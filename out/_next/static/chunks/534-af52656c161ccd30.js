"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[534],{4499:function(e,t,r){let a;r.d(t,{I8:function(){return u},Wn:function(){return g},db:function(){return d}});var o=r(994),i=r(4086),n=r(7007),c=r(9584),s=r(2601);let l={apiKey:s.env.NEXT_PUBLIC_FIREBASE_API_KEY||"AIzaSyDemo-Key-Replace-With-Real",authDomain:s.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN||"sbs-travel-demo.firebaseapp.com",projectId:s.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID||"sbs-travel-demo",storageBucket:s.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET||"sbs-travel-demo.appspot.com",messagingSenderId:s.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID||"123456789",appId:s.env.NEXT_PUBLIC_FIREBASE_APP_ID||"1:123456789:web:abcdef123456",measurementId:s.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID||"G-ABCDEF123"};a=0===(0,o.C6)().length?(0,o.ZF)(l):(0,o.C6)()[0];let d=(0,i.ad)(a),u=(0,n.v0)(a);(0,c.cF)(a);let g=()=>"AIzaSyDemo-Key-Replace-With-Real"!==l.apiKey&&"sbs-travel-demo"!==l.projectId;window.location.hostname},8530:function(e,t,r){r.d(t,{RE:function(){return o},_$:function(){return n},hv:function(){return i},u6:function(){return a}});let a=[{id:"1",name:"Mehmet Şof\xf6r",email:"mehmet@sbstravel.com",phone:"+90 532 111 2233",licenseNumber:"B123456789",vehicleType:"SUV",vehiclePlate:"34 ABC 123",isActive:!0,rating:4.9,totalTrips:245,monthlyEarnings:8450,role:"driver",createdAt:new Date,updatedAt:new Date},{id:"2",name:"Ali Şof\xf6r",email:"ali@sbstravel.com",phone:"+90 532 444 5566",licenseNumber:"B987654321",vehicleType:"Sedan",vehiclePlate:"34 DEF 456",isActive:!0,rating:4.7,totalTrips:189,monthlyEarnings:6890,role:"driver",createdAt:new Date,updatedAt:new Date},{id:"3",name:"Hasan Şof\xf6r",email:"hasan@sbstravel.com",phone:"+90 532 777 8899",licenseNumber:"B456789123",vehicleType:"Van",vehiclePlate:"34 GHI 789",isActive:!0,rating:4.8,totalTrips:167,monthlyEarnings:7320,role:"driver",createdAt:new Date,updatedAt:new Date}],o=[{id:"1",name:"Ekonomi Sedan",type:"sedan",capacity:4,baggage:2,pricePerKm:8,image:"https://images.pexels.com/photos/120049/pexels-photo-120049.jpeg?auto=compress&cs=tinysrgb&w=400",features:["Klima","Temiz Ara\xe7","Sigara İ\xe7ilmez","Bluetooth"],rating:4.2,isActive:!0,createdAt:new Date},{id:"2",name:"Konfor SUV",type:"suv",capacity:6,baggage:4,pricePerKm:12,image:"https://images.pexels.com/photos/463174/pexels-photo-463174.jpeg?auto=compress&cs=tinysrgb&w=400",features:["Klima","Geniş İ\xe7 Mekan","USB Şarj","Wi-Fi","Deri Koltuk"],rating:4.7,isActive:!0,createdAt:new Date},{id:"3",name:"Premium Van",type:"van",capacity:8,baggage:6,pricePerKm:15,image:"https://images.pexels.com/photos/1335077/pexels-photo-1335077.jpeg?auto=compress&cs=tinysrgb&w=400",features:["Klima","Deri Koltuk","Mini Bar","Wi-Fi","TV","Masaj"],rating:4.9,isActive:!0,createdAt:new Date}],i=[{id:"1",name:"Bebek Koltuğu",price:50,description:"0-4 yaş arası \xe7ocuklar i\xe7in",category:"child_seat",isActive:!0,createdAt:new Date},{id:"2",name:"\xc7ocuk Koltuğu",price:40,description:"4-12 yaş arası \xe7ocuklar i\xe7in",category:"child_seat",isActive:!0,createdAt:new Date},{id:"3",name:"Ek Bagaj",price:30,description:"Standart \xfczeri bagaj i\xe7in",category:"extra_baggage",isActive:!0,createdAt:new Date},{id:"4",name:"Havalimanı Karşılama",price:75,description:"Tabela ile karşılama hizmeti",category:"meet_greet",isActive:!0,createdAt:new Date}],n=[{id:"RES001",customerId:"customer1",customer:{id:"customer1",name:"Ahmet Yılmaz",email:"ahmet@email.com",phone:"+90 532 123 4567",role:"customer",totalReservations:5,createdAt:new Date,updatedAt:new Date},direction:"airport-to-hotel",from:"Antalya Havalimanı",to:"Lara Beach Hotel",date:"2024-01-15",time:"14:30",passengers:2,baggage:3,flightNumber:"TK1234",vehicleId:"2",vehicle:o[1],selectedServices:[i[0]],distance:25,basePrice:300,servicesPrice:50,totalPrice:350,status:"pending",qrCode:"QR123456",specialRequests:"Bebek koltuğu gerekli",createdAt:new Date,updatedAt:new Date}]},1534:function(e,t,r){r.d(t,{E1:function(){return l},md:function(){return s}});var a=r(4086),o=r(4499),i=r(8530);class n{async create(e){if(!(0,o.Wn)()){console.log("\uD83D\uDD25 Firebase not configured, using mock data");let t="RES".concat(Date.now());return console.log("Mock reservation created:",t,e),t}try{let t=await (0,a.ET)((0,a.hJ)(o.db,this.collectionName),{...e,createdAt:(0,a.Bt)(),updatedAt:(0,a.Bt)(),status:"pending"});return console.log("✅ Reservation created in Firebase:",t.id),t.id}catch(t){console.error("❌ Error creating reservation:",t);let e="RES".concat(Date.now());return console.log("Fallback to mock reservation:",e),e}}async getAll(){if(!(0,o.Wn)())return console.log("\uD83D\uDD25 Using mock reservations"),i._$;try{let e=(0,a.IO)((0,a.hJ)(o.db,this.collectionName),(0,a.Xo)("createdAt","desc")),t=(await (0,a.PL)(e)).docs.map(e=>{var t,r;return{id:e.id,...e.data(),createdAt:(null===(t=e.data().createdAt)||void 0===t?void 0:t.toDate())||new Date,updatedAt:(null===(r=e.data().updatedAt)||void 0===r?void 0:r.toDate())||new Date}});return console.log("✅ Loaded reservations from Firebase:",t.length),t}catch(e){return console.error("❌ Error loading reservations:",e),i._$}}async assignDriver(e,t){if(!(0,o.Wn)()){console.log("\uD83D\uDD25 Mock driver assignment:",e,t);return}try{let r=(0,a.JU)(o.db,this.collectionName,e);await (0,a.r7)(r,{driverId:t,status:"assigned",assignedAt:(0,a.Bt)(),updatedAt:(0,a.Bt)()}),console.log("✅ Driver assigned in Firebase:",e,t)}catch(e){console.error("❌ Error assigning driver:",e),console.log("Fallback: Mock driver assignment")}}async updateStatus(e,t){if(!(0,o.Wn)()){console.log("\uD83D\uDD25 Mock status update:",e,t);return}try{let r=(0,a.JU)(o.db,this.collectionName,e),i={status:t,updatedAt:(0,a.Bt)()};"started"===t?i.startedAt=(0,a.Bt)():"completed"===t&&(i.completedAt=(0,a.Bt)()),await (0,a.r7)(r,i),console.log("✅ Status updated in Firebase:",e,t)}catch(e){console.error("❌ Error updating status:",e),console.log("Fallback: Mock status update")}}async update(e,t){if(!(0,o.Wn)()){console.log("\uD83D\uDD25 Mock reservation update:",e,t);return}try{let r=(0,a.JU)(o.db,this.collectionName,e);await (0,a.r7)(r,{...t,updatedAt:(0,a.Bt)()}),console.log("✅ Reservation updated in Firebase:",e)}catch(e){console.error("❌ Error updating reservation:",e),console.log("Fallback: Mock reservation update")}}async delete(e){if(!(0,o.Wn)()){console.log("\uD83D\uDD25 Mock reservation delete:",e);return}try{let t=(0,a.JU)(o.db,this.collectionName,e);await (0,a.oe)(t),console.log("✅ Reservation deleted from Firebase:",e)}catch(e){console.error("❌ Error deleting reservation:",e),console.log("Fallback: Mock reservation delete")}}onReservationsChange(e){if(!(0,o.Wn)())return console.log("\uD83D\uDD25 Using mock real-time data"),e(i._$),()=>{};try{let t=(0,a.IO)((0,a.hJ)(o.db,this.collectionName),(0,a.Xo)("createdAt","desc"));return(0,a.cf)(t,t=>{let r=t.docs.map(e=>{var t,r;return{id:e.id,...e.data(),createdAt:(null===(t=e.data().createdAt)||void 0===t?void 0:t.toDate())||new Date,updatedAt:(null===(r=e.data().updatedAt)||void 0===r?void 0:r.toDate())||new Date}});console.log("\uD83D\uDD04 Real-time reservations update:",r.length),e(r)},t=>{console.error("❌ Real-time listener error:",t),e(i._$)})}catch(t){return console.error("❌ Error setting up real-time listener:",t),e(i._$),()=>{}}}async getDriverReservations(e){if(!(0,o.Wn)())return console.log("\uD83D\uDD25 Using mock driver reservations for:",e),i._$.filter(t=>t.driverId===e||t.assignedDriver===e);try{let t=(0,a.IO)((0,a.hJ)(o.db,this.collectionName),(0,a.ar)("driverId","==",e),(0,a.ar)("status","in",["assigned","started"]),(0,a.Xo)("createdAt","desc")),r=(await (0,a.PL)(t)).docs.map(e=>{var t,r;return{id:e.id,...e.data(),createdAt:(null===(t=e.data().createdAt)||void 0===t?void 0:t.toDate())||new Date,updatedAt:(null===(r=e.data().updatedAt)||void 0===r?void 0:r.toDate())||new Date}});return console.log("✅ Driver reservations loaded:",e,r.length),r}catch(t){return console.error("❌ Error loading driver reservations:",t),i._$.filter(t=>t.driverId===e||t.assignedDriver===e)}}constructor(){this.collectionName="reservations"}}class c{async getAll(){if(!(0,o.Wn)())return console.log("\uD83D\uDD25 Using mock drivers"),i.u6;try{let e=(await (0,a.PL)((0,a.hJ)(o.db,this.collectionName))).docs.map(e=>({id:e.id,...e.data()}));return console.log("✅ Drivers loaded from Firebase:",e.length),e}catch(e){return console.error("❌ Error loading drivers:",e),i.u6}}async create(e){if(!(0,o.Wn)()){console.log("\uD83D\uDD25 Firebase not configured, using mock data");let t="DRV".concat(Date.now());return console.log("Mock driver created:",t,e),t}try{let t=await (0,a.ET)((0,a.hJ)(o.db,this.collectionName),{...e,createdAt:(0,a.Bt)(),updatedAt:(0,a.Bt)(),isActive:!0});return console.log("✅ Driver created in Firebase:",t.id),t.id}catch(t){console.error("❌ Error creating driver:",t);let e="DRV".concat(Date.now());return console.log("Fallback to mock driver:",e),e}}async update(e,t){if(!(0,o.Wn)()){console.log("\uD83D\uDD25 Mock driver update:",e,t);return}try{let r=(0,a.JU)(o.db,this.collectionName,e);await (0,a.r7)(r,{...t,updatedAt:(0,a.Bt)()}),console.log("✅ Driver updated in Firebase:",e)}catch(e){console.error("❌ Error updating driver:",e),console.log("Fallback: Mock driver update")}}async delete(e){if(!(0,o.Wn)()){console.log("\uD83D\uDD25 Mock driver delete:",e);return}try{let t=(0,a.JU)(o.db,this.collectionName,e);await (0,a.oe)(t),console.log("✅ Driver deleted from Firebase:",e)}catch(e){console.error("❌ Error deleting driver:",e),console.log("Fallback: Mock driver delete")}}async toggleActiveStatus(e,t){if(!(0,o.Wn)()){console.log("\uD83D\uDD25 Mock driver toggle status:",e,t);return}try{let r=(0,a.JU)(o.db,this.collectionName,e);await (0,a.r7)(r,{isActive:t,updatedAt:(0,a.Bt)()}),console.log("✅ Driver status toggled in Firebase:",e,t)}catch(e){console.error("❌ Error toggling driver status:",e),console.log("Fallback: Mock driver toggle")}}async getActiveDrivers(){if(!(0,o.Wn)())return console.log("\uD83D\uDD25 Using mock active drivers"),i.u6.filter(e=>e.isActive);try{let e=(0,a.IO)((0,a.hJ)(o.db,this.collectionName),(0,a.ar)("isActive","==",!0)),t=(await (0,a.PL)(e)).docs.map(e=>({id:e.id,...e.data()}));return console.log("✅ Active drivers loaded:",t.length),t}catch(e){return console.error("❌ Error loading active drivers:",e),i.u6.filter(e=>e.isActive)}}constructor(){this.collectionName="drivers"}}let s=new n,l=new c}}]);